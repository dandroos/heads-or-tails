{"version":3,"sources":["assets/images/heads.png","assets/images/tails.png","assets/sounds/coinflip.mp3","state/reducer.js","state/store.js","state/types.js","state/actions.js","comps/DialogInfo.js","App.js","comps/theme.js","index.js"],"names":["module","exports","initialState","fontLoaded","imagesLoaded","siteReadyToShow","dialogInfo","coinFace","coinTossInProgress","createStore","state","type","payload","newState","Object","assign","setCoinFace","setCoinTossInProgress","setDialogInfo","connect","isOpen","dispatch","handleClose","Dialog","open","onClose","DialogTitle","DialogContent","dividers","Typography","Box","my","Grid","container","spacing","justify","xs","md","item","Button","startIcon","fullWidth","onClick","window","display","align","variant","now","Date","getFullYear","getYear","DialogActions","infoIsOpen","useState","Sound","status","STOPPED","soundStatus","setSoundStatus","useEffect","soundManager","setup","debugMode","preloadImage","img","Promise","res","rej","imgToLoad","Image","src","onload","Heads","then","Tails","loadFont","FontFaceObserver","load","catch","console","log","Grow","in","minHeight","alignItems","justifyContent","Container","width","height","maxWidth","Slide","direction","timeout","enter","exit","alt","style","mt","variantMapping","h2","paragraph","disabled","PLAYING","autoLoad","url","CoinTossSound","playStatus","onFinishedPlaying","headsOrTails","Math","round","random","Fab","color","size","position","top","right","theme","createMuiTheme","typography","fontFamily","props","MuiButton","responsiveFontSizes","ReactDOM","render","store","ThemeProvider","CssBaseline","Helmet","href","rel","document","getElementById"],"mappings":"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","file":"static/js/main.33aec342.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/heads.f7c569dc.png\";","module.exports = __webpack_public_path__ + \"static/media/tails.4bd6b1ae.png\";","module.exports = __webpack_public_path__ + \"static/media/coinflip.183cc9df.mp3\";","import {\n  SET_IMAGES_LOADED,\n  SET_DIALOG_INFO,\n  SET_FONT_LOADED,\n  SET_SITE_READY_TO_SHOW,\n  SET_COIN_FACE,\n  SET_COIN_TOSS_IN_PROGRESS,\n} from \"./types\";\n\nconst initialState = {\n  fontLoaded: false,\n  imagesLoaded: false,\n  siteReadyToShow: false,\n  dialogInfo: false,\n  coinFace: null,\n  coinTossInProgress: false,\n};\n\nexport default (state = initialState, { type, payload }) => {\n  const newState = Object.assign({}, state);\n  switch (type) {\n    case SET_FONT_LOADED:\n      newState.fontLoaded = payload;\n      break;\n    case SET_SITE_READY_TO_SHOW:\n      newState.siteReadyToShow = payload;\n      break;\n    case SET_COIN_FACE:\n      newState.coinFace = payload;\n      break;\n    case SET_COIN_TOSS_IN_PROGRESS:\n      newState.coinTossInProgress = payload;\n      break;\n    case SET_IMAGES_LOADED:\n      newState.imagesLoaded = payload;\n      break;\n    case SET_DIALOG_INFO:\n      newState.dialogInfo = payload;\n      break;\n    default:\n      break;\n  }\n  return newState;\n};\n","import { createStore } from \"redux\";\nimport reducer from \"./reducer\";\n\nexport default createStore(reducer);\n","export const SET_FONT_LOADED = \"SET_FONT_LOADED\";\nexport const SET_SITE_READY_TO_SHOW = \"SET_SITE_READY_TO_SHOW\";\nexport const SET_COIN_FACE = \"SET_COIN_FACE\";\nexport const SET_COIN_TOSS_IN_PROGRESS = \"SET_COIN_TOSS_IN_PROGRESS\";\nexport const SET_DIALOG_INFO = \"SET_DIALOG_INFO\";\nexport const SET_IMAGES_LOADED = \"SET_IMAGES_LOADED\";\n","import {\n  SET_IMAGES_LOADED,\n  SET_DIALOG_INFO,\n  SET_FONT_LOADED,\n  SET_SITE_READY_TO_SHOW,\n  SET_COIN_FACE,\n  SET_COIN_TOSS_IN_PROGRESS,\n} from \"./types\";\n\nexport const setFontLoaded = (payload) => ({\n  type: SET_FONT_LOADED,\n  payload,\n});\n\nexport const setSiteReadyToShow = (payload) => ({\n  type: SET_SITE_READY_TO_SHOW,\n  payload,\n});\n\nexport const setCoinFace = (payload) => ({\n  type: SET_COIN_FACE,\n  payload,\n});\n\nexport const setCoinTossInProgress = (payload) => ({\n  type: SET_COIN_TOSS_IN_PROGRESS,\n  payload,\n});\n\nexport const setImagesLoaded = (payload) => ({\n  type: SET_IMAGES_LOADED,\n  payload,\n});\n\nexport const setDialogInfo = (payload) => ({\n  type: SET_DIALOG_INFO,\n  payload,\n});\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  Grid,\n  DialogActions,\n  Button,\n  Box,\n  Typography,\n} from \"@material-ui/core\";\nimport { Facebook, Twitter, Github } from \"mdi-material-ui\";\nimport { setDialogInfo } from \"../state/actions\";\n\nconst DialogInfo = ({ dispatch, isOpen }) => {\n  const handleClose = () => {\n    dispatch(setDialogInfo(false));\n  };\n\n  const getYear = () => {\n    const now = new Date();\n    if (now.getFullYear() > 2020) {\n      return ` - ${now.getFullYear()}`;\n    }\n    return ``;\n  };\n\n  return (\n    <Dialog open={isOpen} onClose={handleClose}>\n      <DialogTitle>Heads or Tails?</DialogTitle>\n      <DialogContent dividers>\n        <Typography>\n          Thank you for using '<strong>Heads or Tails?</strong>'. If you like\n          it, please consider sharing it on your social media accounts and/or\n          giving it a star on GitHub.\n        </Typography>\n        <Box my={2}>\n          <Grid container spacing={2} justify=\"center\">\n            <Grid xs={12} md={6} item>\n              <Button\n                startIcon={<Facebook />}\n                fullWidth\n                onClick={() => {\n                  window.open(\n                    \"https://www.facebook.com/sharer/sharer.php?u=https://dandroos.github.io/heads-or-tails\",\n                    \"_blank\"\n                  );\n                }}\n              >\n                Share on Facebook\n              </Button>\n            </Grid>\n            <Grid xs={12} md={6} item>\n              <Button\n                startIcon={<Twitter />}\n                fullWidth\n                onClick={() =>\n                  window.open(\n                    \"https://twitter.com/intent/tweet?text=Heads%20or%20Tails?&url=https://dandroos.github.io/heads-or-tails\",\n                    \"_blank\"\n                  )\n                }\n              >\n                Share on Twitter\n              </Button>\n            </Grid>\n            <Grid xs={12} md={6} item>\n              <Button\n                startIcon={<Github />}\n                fullWidth\n                onClick={() =>\n                  window.open(\n                    \"https://github.com/dandroos/heads-or-tails\",\n                    \"_blank\"\n                  )\n                }\n              >\n                Visit GitHub repo\n              </Button>\n            </Grid>\n          </Grid>\n        </Box>\n        <Typography display=\"block\" align=\"center\" variant=\"caption\">\n          All content &copy; 2020{getYear()} David Andrews\n        </Typography>\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"text\" onClick={handleClose}>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isOpen: state.dialogInfo,\n});\n\nexport default connect(mapStateToProps)(DialogInfo);\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Box,\n  Container,\n  Typography,\n  Button,\n  Fab,\n  Grow,\n  Slide,\n} from \"@material-ui/core\";\nimport FontFaceObserver from \"fontfaceobserver\";\nimport Sound from \"react-sound\";\nimport CoinTossSound from \"./assets/sounds/coinflip.mp3\";\nimport Heads from \"./assets/images/heads.png\";\nimport Tails from \"./assets/images/tails.png\";\nimport { InformationVariant } from \"mdi-material-ui\";\nimport DialogInfo from \"./comps/DialogInfo\";\nimport {\n  setDialogInfo,\n  setImagesLoaded,\n  setCoinTossInProgress,\n  setFontLoaded,\n  setSiteReadyToShow,\n  setCoinFace,\n} from \"./state/actions\";\n\nfunction App({\n  dispatch,\n  imagesLoaded,\n  fontLoaded,\n  coinTossInProgress,\n  siteReadyToShow,\n  coinFace,\n}) {\n  const [soundStatus, setSoundStatus] = useState(Sound.status.STOPPED);\n\n  useEffect(() => {\n    window.soundManager.setup({ debugMode: false });\n\n    const preloadImage = (img) => {\n      return new Promise((res, rej) => {\n        const imgToLoad = new Image();\n        imgToLoad.src = img;\n        imgToLoad.onload = res();\n      });\n    };\n\n    preloadImage(Heads).then(() =>\n      preloadImage(Tails).then(() => dispatch(setImagesLoaded(true)))\n    );\n\n    const loadFont = () => {\n      const font = new FontFaceObserver(\"Playfair Display\");\n      font\n        .load()\n        .then(() => dispatch(setFontLoaded(true)))\n        .catch(() => {\n          console.log(\"There was an error loading the font\");\n          loadFont();\n        });\n    };\n    loadFont();\n    //eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (fontLoaded && imagesLoaded) {\n      dispatch(setSiteReadyToShow(true));\n    }\n    //eslint-disable-next-line\n  }, [fontLoaded, imagesLoaded]);\n\n  const handleClick = () => {\n    dispatch(setCoinTossInProgress(true));\n    setSoundStatus(Sound.status.PLAYING);\n  };\n\n  const handleFinishSound = () => {\n    setSoundStatus(Sound.status.STOPPED);\n    const headsOrTails = Math.round(Math.random());\n\n    if (headsOrTails === 0) {\n      dispatch(setCoinFace(\"tails\"));\n    } else {\n      dispatch(setCoinFace(\"heads\"));\n    }\n    dispatch(setCoinTossInProgress(false));\n  };\n\n  return (\n    <Grow in={siteReadyToShow}>\n      <Box\n        display=\"flex\"\n        minHeight=\"100vh\"\n        align=\"center\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Container>\n          <Box\n            width={300}\n            height={300}\n            maxWidth=\"100%\"\n            display=\"flex\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n          >\n            <Slide\n              in={!coinTossInProgress}\n              direction=\"down\"\n              timeout={{ enter: 20, exit: 60 }}\n            >\n              <img\n                src={coinFace === \"tails\" ? Tails : Heads}\n                alt=\"coin\"\n                style={{ maxWidth: \"100%\" }}\n              />\n            </Slide>\n          </Box>\n          <Box mt={2}>\n            <Typography variant=\"h2\" variantMapping={{ h2: \"h1\" }}>\n              Heads or Tails?\n            </Typography>\n            <Typography variant=\"subtitle1\" paragraph>\n              A useful app for those times when you don't have a coin handy!\n            </Typography>\n            <Button disabled={coinTossInProgress} onClick={handleClick}>\n              Toss coin\n            </Button>\n          </Box>\n        </Container>\n        <Sound\n          autoLoad\n          url={CoinTossSound}\n          playStatus={soundStatus}\n          onFinishedPlaying={handleFinishSound}\n        />\n        <Fab\n          color=\"inherit\"\n          size=\"small\"\n          style={{ position: \"fixed\", top: 10, right: 10 }}\n          onClick={() => dispatch(setDialogInfo(true))}\n        >\n          <InformationVariant />\n        </Fab>\n        <DialogInfo />\n      </Box>\n    </Grow>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  infoIsOpen: state.dialogInfo,\n  imagesLoaded: state.imagesLoaded,\n  fontLoaded: state.fontLoaded,\n  siteReadyToShow: state.siteReadyToShow,\n  coinTossInProgress: state.coinTossInProgress,\n  coinFace: state.coinFace,\n});\n\nexport default connect(mapStateToProps)(App);\n","import { createMuiTheme, responsiveFontSizes } from \"@material-ui/core\";\n\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: \"Playfair Display\",\n  },\n  props: {\n    MuiButton: {\n      variant: \"contained\",\n    },\n  },\n});\n\nexport default responsiveFontSizes(theme);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./state/store\";\nimport App from \"./App\";\nimport { ThemeProvider, CssBaseline } from \"@material-ui/core\";\nimport theme from \"./comps/theme\";\nimport { Helmet } from \"react-helmet\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Helmet>\n        <link\n          href=\"https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap\"\n          rel=\"stylesheet\"\n        />\n      </Helmet>\n      <App />\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}